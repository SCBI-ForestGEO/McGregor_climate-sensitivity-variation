theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(fill=col)) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
library(esquisser)
library(esquisse)
esquisser()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(fill=col, color=col)) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(fill=col, color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
geom_point(aes(fill=col) +
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(fill=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(fill=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
scbi18$bins <- cut(scbi18$height.m, breaks=20)
# tlp ####
trait_tlp <- scbi18 %>%
group_by(bins) %>%
dplyr::summarize(avg = mean(mean_TLP_Mpa, na.rm=TRUE),
dev = sd(mean_TLP_Mpa, na.rm=TRUE),
no_data = (sum(is.na(mean_TLP_Mpa))/length(mean_TLP_Mpa)))
trait_tlp$sdmin <- trait_tlp$avg - trait_tlp$dev
trait_tlp$sdmax <- trait_tlp$avg + trait_tlp$dev
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
scale_y_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
# scale_y_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
# scale_y_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
trait_tlp$col <- ifelse(trait_tlp$no_data > 0.25, "grey", "black")
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
# scale_y_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
scale_y_continuous(breaks=c(10,20,30,40,50), limits=c(0,60)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
?scale_y_continuous
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
scale_y_continuous() +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
scale_y_discrete() +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
?scale_y_discrete()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
scale_y_discrete(breaks=c(10,20,30,40,50)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
scbi18$bins <- cut2(scbi18$height.m, g=19)
# tlp ####
trait_tlp <- scbi18 %>%
group_by(bins) %>%
dplyr::summarize(avg = mean(mean_TLP_Mpa, na.rm=TRUE),
dev = sd(mean_TLP_Mpa, na.rm=TRUE),
no_data = (sum(is.na(mean_TLP_Mpa))/length(mean_TLP_Mpa)))
trait_tlp$sdmin <- trait_tlp$avg - trait_tlp$dev
trait_tlp$sdmax <- trait_tlp$avg + trait_tlp$dev
trait_tlp$col <- ifelse(trait_tlp$no_data > 0.25, "grey", "black")
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
geom_path() +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
geom_path(group=group) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
geom_path(group=col) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
geom_path(group=bins) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
geom_path(aes(x=avg, y=bins, color=col)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = bins)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = bins, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
geom_path(aes(x=avg, y=bins, color=col, group=1)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
trait_tlp$lab <- seq(5,95,by=5)
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = lab)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = lab, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
geom_path(aes(x=avg, y=lab, color=col, group=1)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = lab)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = lab, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
scale_y_continuous(breaks=19) +
geom_path(aes(x=avg, y=lab, color=col, group=1)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = lab)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = lab, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
scale_y_continuous(breaks=seq(5,95,by=5)) +
geom_path(aes(x=avg, y=lab, color=col, group=1)) +
ylab("Height [m]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = lab)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = lab, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
scale_y_continuous(breaks=seq(5,95,by=5)) +
geom_path(aes(x=avg, y=lab, color=col, group=1)) +
ylab("Height [percentiles]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
trait_tlp$y <- gsub("^[,[[:num:]])$", trait_tlp$bins)
trait_tlp$y <- gsub("^[,[[:num:]])$", "", trait_tlp$bins)
trait_tlp$y <- gsub("^[,[[:digit:]])$", "", trait_tlp$bins)
trait_tlp$y <- gsub(",[[:digit:]])$", "", trait_tlp$bins)
trait_tlp$y <- gsub(",.*$", "", trait_tlp$bins)
library(gsubfn)
install.packages("gsubfn")
library(gsubfn)
library(magrittr)
trait_tlp$y <- trait_tlp$bins %<>%
gsub(",.*$", "", .) %<>%
gsub("^[", "", .)
trait_tlp$y <- gsub("^\[,.*$", "", trait_tlp$bins)
trait_tlp$y <- gsub("^\\[,.*$", "", trait_tlp$bins)
trait_tlp$y <- trait_tlp$bins %<>%
gsub(",.*$", "", .) %<>%
gsub("^\\[", "", .)
scbi18$bins <- cut2(scbi18$height.m, g=19)
# tlp ####
trait_tlp <- scbi18 %>%
group_by(bins) %>%
dplyr::summarize(avg = mean(mean_TLP_Mpa, na.rm=TRUE),
dev = sd(mean_TLP_Mpa, na.rm=TRUE),
no_data = (sum(is.na(mean_TLP_Mpa))/length(mean_TLP_Mpa)))
trait_tlp$sdmin <- trait_tlp$avg - trait_tlp$dev
trait_tlp$sdmax <- trait_tlp$avg + trait_tlp$dev
trait_tlp$col <- ifelse(trait_tlp$no_data > 0.25, "grey", "black")
trait_tlp$lab <- seq(5,95,by=5)
trait_tlp$y <- gsub("^\\[,.*$", "", trait_tlp$bins)
trait_tlp$y <-
trait_tlp$bins %<>%
gsub(",.*$", "", .) %<>%
gsub("^\\[", "", .)
scbi18$bins <- cut2(scbi18$height.m, g=19)
# tlp ####
trait_tlp <- scbi18 %>%
group_by(bins) %>%
dplyr::summarize(avg = mean(mean_TLP_Mpa, na.rm=TRUE),
dev = sd(mean_TLP_Mpa, na.rm=TRUE),
no_data = (sum(is.na(mean_TLP_Mpa))/length(mean_TLP_Mpa)))
trait_tlp$sdmin <- trait_tlp$avg - trait_tlp$dev
trait_tlp$sdmax <- trait_tlp$avg + trait_tlp$dev
trait_tlp$col <- ifelse(trait_tlp$no_data > 0.25, "grey", "black")
trait_tlp$lab <- seq(5,95,by=5)
trait_tlp$y <-
trait_tlp$bins %<>%
gsub(",.*$", "", .) %<>%
gsub("^\\[", "", .)
scbi18$bins <- cut2(scbi18$height.m, g=19)
# tlp ####
trait_tlp <- scbi18 %>%
group_by(bins) %>%
dplyr::summarize(avg = mean(mean_TLP_Mpa, na.rm=TRUE),
dev = sd(mean_TLP_Mpa, na.rm=TRUE),
no_data = (sum(is.na(mean_TLP_Mpa))/length(mean_TLP_Mpa)))
trait_tlp$sdmin <- trait_tlp$avg - trait_tlp$dev
trait_tlp$sdmax <- trait_tlp$avg + trait_tlp$dev
trait_tlp$col <- ifelse(trait_tlp$no_data > 0.25, "grey", "black")
trait_tlp$lab <- seq(5,95,by=5)
trait_tlp$y <- gsub(",.*$", "", trait_tlp$bins)
trait_tlp$y <- gsub("^\\[", "", trait_tlp$y)
trait_tlp$y <- as.numeric(trait_tlp$y)
ggplot(trait_tlp, aes(x = avg, y = y)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = y, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
# scale_y_continuous(breaks=seq(5,95,by=5)) +
geom_path(aes(x=avg, y=y, color=col, group=1)) +
ylab("Height [percentiles]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
ggplot(trait_tlp, aes(x = avg, y = y)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = y, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
scale_y_continuous(breaks=c(10,20,30,40,50), limits=c(0,60)) +
geom_path(aes(x=avg, y=y, color=col, group=1)) +
ylab("Height [percentiles]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
add <- trait_tlp[1,]
View(add)
add <- NA
add[,ncol(add)] <- NA
add <- trait_tlp[1,]
add[,ncol(add)] <- NA
View(add)
add[,1:ncol(add)] <- NA
View(add)
scbi18$bins <- cut2(scbi18$height.m, g=20)
trait_tlp <- scbi18 %>%
group_by(bins) %>%
dplyr::summarize(avg = mean(mean_TLP_Mpa, na.rm=TRUE),
dev = sd(mean_TLP_Mpa, na.rm=TRUE),
no_data = (sum(is.na(mean_TLP_Mpa))/length(mean_TLP_Mpa)))
trait_tlp$sdmin <- trait_tlp$avg - trait_tlp$dev
trait_tlp$sdmax <- trait_tlp$avg + trait_tlp$dev
trait_tlp$col <- ifelse(trait_tlp$no_data > 0.25, "grey", "black")
trait_tlp$lab <- seq(5,95,by=5)
trait_tlp$y <- gsub(",.*$", "", trait_tlp$bins)
trait_tlp$y <- gsub("^\\[", "", trait_tlp$y)
trait_tlp$y <- as.numeric(trait_tlp$y)
trait_tlp$lab <- seq(5,100,by=5)
trait_tlp$y <- gsub(",.*$", "", trait_tlp$bins)
trait_tlp$y <- gsub("^\\[", "", trait_tlp$y)
trait_tlp$y <- as.numeric(trait_tlp$y)
add$y <- 50.5
rbind(trait_tlp, add)
trait_tlp <- rbind(trait_tlp, add)
#TLP by height bins
# plot_tlp_ht <-
ggplot(trait_tlp, aes(x = avg, y = lab)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = lab, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
scale_y_continuous(breaks=seq(5,95,by=5)) +
geom_path(aes(x=avg, y=lab, color=col, group=1)) +
ylab("Height [percentiles]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
ggplot(trait_tlp, aes(x = avg, y = y)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = y, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
scale_y_continuous(breaks=c(10,20,30,40,50), limits=c(0,60)) +
geom_path(aes(x=avg, y=y, color=col, group=1)) +
ylab("Height [percentiles]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
trait_tlp$y <- gsub("^.*,", "", trait_tlp$bins)
trait_tlp$y <- gsub("\\)$", "", trait_tlp$y)
trait_tlp$y <- as.numeric(trait_tlp$y)
trait_tlp$y <- gsub("^.*,", "", trait_tlp$bins)
trait_tlp$y <- gsub("\\[[:punct:]]$", "", trait_tlp$y)
trait_tlp$y <- gsub("[[:punct:]]$", "", trait_tlp$y)
trait_tlp$y <- as.numeric(trait_tlp$y)
ggplot(trait_tlp, aes(x = avg, y = y)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = y, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
scale_y_continuous(breaks=c(10,20,30,40,50), limits=c(0,60)) +
geom_path(aes(x=avg, y=y, color=col, group=1)) +
ylab("Height [percentiles]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
# tlp ####
trait_tlp <- scbi18 %>%
group_by(bins) %>%
dplyr::summarize(avg = mean(mean_TLP_Mpa, na.rm=TRUE),
dev = sd(mean_TLP_Mpa, na.rm=TRUE),
no_data = (sum(is.na(mean_TLP_Mpa))/length(mean_TLP_Mpa)))
trait_tlp$sdmin <- trait_tlp$avg - trait_tlp$dev
trait_tlp$sdmax <- trait_tlp$avg + trait_tlp$dev
trait_tlp$col <- ifelse(trait_tlp$no_data > 0.25, "grey", "black")
trait_tlp$lab <- seq(5,95,by=5)
trait_tlp$y <- gsub("^.*,", "", trait_tlp$bins)
scbi18$bins <- cut2(scbi18$height.m, g=19)
# tlp ####
trait_tlp <- scbi18 %>%
group_by(bins) %>%
dplyr::summarize(avg = mean(mean_TLP_Mpa, na.rm=TRUE),
dev = sd(mean_TLP_Mpa, na.rm=TRUE),
no_data = (sum(is.na(mean_TLP_Mpa))/length(mean_TLP_Mpa)))
trait_tlp$sdmin <- trait_tlp$avg - trait_tlp$dev
trait_tlp$sdmax <- trait_tlp$avg + trait_tlp$dev
trait_tlp$col <- ifelse(trait_tlp$no_data > 0.25, "grey", "black")
trait_tlp$lab <- seq(5,95,by=5)
trait_tlp$y <- gsub("^.*,", "", trait_tlp$bins)
trait_tlp$y <- gsub("[[:punct:]]$", "", trait_tlp$y)
trait_tlp$y <- as.numeric(trait_tlp$y)
ggplot(trait_tlp, aes(x = avg, y = y)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = y, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
scale_y_continuous(breaks=c(10,20,30,40,50), limits=c(0,60)) +
geom_path(aes(x=avg, y=y, color=col, group=1)) +
ylab("Height [percentiles]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
ggplot(trait_tlp, aes(x = avg, y = y)) +
geom_point(aes(color=col)) +
scale_color_manual(values=c("black", "grey")) +
ggplot2::geom_errorbarh(aes(y = y, xmin = sdmin, xmax = sdmax, height=0.25, color=col)) +
scale_x_continuous(breaks=c(-2.8,-2.6,-2.4,-2.2,-2.0,-1.8), limits=c(-2.8,-1.8)) +
scale_y_continuous(breaks=c(0,10,20,30,40,50,60), limits=c(0,60)) +
geom_path(aes(x=avg, y=y, color=col, group=1)) +
ylab("Height [percentiles]") +
xlab("Mean TLP (MPa)") +
theme_minimal()
