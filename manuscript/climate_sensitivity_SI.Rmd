---
title: ""
author: ""
output:
  pdf_document:
    fig_caption: yes
bibliography: ["packages.bib"]
biblio-style: apalike
header-includes:
- \usepackage{booktabs}
- \usepackage{caption}
- \usepackage{setspace}\onehalfspacing
- \captionsetup[figure]{labelformat=empty}
- \usepackage{caption}
- \captionsetup[table]{font=small}
- \captionsetup[figure]{font=small}
- \captionsetup[table]{labelformat=empty}
- \captionsetup[figure]{labelformat=empty}
---

```{r, include=FALSE}
options(tinytex.verbose = TRUE)
options(knitr.table.format = "latex")
options(knitr.kable.NA = '')
```

### Supplementary Information
## Tree height and hydraulic traits shape growth responses across droughts in a temperate broadleaf forest 

Ian R. McGregor,
Ryan Helcoski,
Norbert Kunert,
Alan J. Tepley,
Erika B. Gonzalez-Akre,
Valentine Herrmann,
Joseph Zailaa,
Atticus E.L. Stovall,
Norman A. Bourg,
William J. McShea,
Neil Pederson,
Lawren Sack,
Kristina J. Anderson-Teixeira

\listoftables
\listoffigures

\newpage
While there were several R-packages we used for a specific purpose in our methods, numerous packages were immensely helpful for this research behind the scenes. As in all of science, this study is a representation of the work done by both the authors of this paper as well as countless others. While acknowledging everyone is impossible, we want to at least give thanks to those who made this work possible.

R-packages not already cited in the main manuscript include the following, listed alphabetically by corresponding package name:

[@R-base; @R-broom; @R-car; @R-cowplot; @R-data.table; @R-devtools; @R-dplR; @R-dplyr; @R-extrafont; @R-ggplot2; @R-ggpubr; @R-ggthemes; @R-gridExtra; @R-knitr; @R-lubridate; @R-MuMIn; @R-piecewiseSEM; @R-png; @R-purrr; @R-raster; @R-rasterVis; @R-RCurl; @R-readxl; @R-reshape2; @R-rgdal; @R-rgeos; @R-rmarkdown; @R-sf; @R-stringi; @R-stringr; @R-tidyr]

\newpage
```{r Table S1, eval=TRUE, echo=FALSE, message=FALSE}
library(knitr)
library(kableExtra)

bark <- read.csv("tables_figures/publication/tableS1_bark_regression.csv", stringsAsFactors = FALSE)
bark[,2] <- NULL
colnames(bark) <- c("Species", "Equations", "$R^2$")
kable(bark, booktabs=TRUE, format = "latex", caption = "Table S1: Species-specific bark thickness regression equations") %>%
  kable_styling(bootstrap_options = "striped", full_width = FALSE, latex_options = "hold_position")
```

\newpage
```{r Table S2, eval=TRUE, echo=FALSE,  warning=FALSE}
library(knitr)
library(kableExtra)

heights <- read.csv("tables_figures/publication/tableS2_height_regression.csv", stringsAsFactors = FALSE)
kable(heights, booktabs=TRUE, format = 'latex', caption = "Table S2: Species-specific height regression equations", escape = FALSE) %>%
  kable_styling(bootstrap_options = "striped", full_width = FALSE, latex_options = "hold_position", protect_latex = TRUE)
```

\newpage
```{r, Table S3, eval=TRUE, echo=FALSE, message=FALSE}
tableS3 <- read.csv("tables_figures/publication/tables3_drought_stats.csv", stringsAsFactors = FALSE)
kable(tableS3, booktabs=TRUE, format = "latex", caption = "Table S3: Monthly Palmer Drought Severity Index (PDSI), and its rank among all years between 1950 and 2009 (driest=1), for focal droughts. ") %>%
  pack_rows("", 1, 4, latex_gap_space = ".4em", colnum = 3, hline_before = FALSE) %>%
  pack_rows("", 5, 8, latex_gap_space = ".4em", colnum = 1, hline_before = FALSE) %>%
  pack_rows("", 9, 12, latex_gap_space = ".4em", colnum = 1, hline_before = FALSE) %>%
  kable_styling(bootstrap_options = "striped", full_width = FALSE, latex_options = "hold_position", protect_latex = TRUE)
```

\clearpage
```{r table S4, eval = TRUE, echo=FALSE, warning=FALSE}
library(knitr)
library(kableExtra)
singlevar_table <- read.csv("tables_figures/publication/tableS4_singlevariable_models_reform.csv", stringsAsFactors = FALSE, check.names = FALSE) #note: this table is a rearranged version of `tested_traits_all.csv`.
kable(singlevar_table, booktabs = TRUE, caption = "Table S4. Individual tests of species traits as drivers of drought resistance, where $Rt$ is used as the response variable.", format = 'latex', escape = FALSE) %>%
  kable_styling(latex_options = c("scale_down", "hold_position"), font_size = 12, protect_latex = TRUE) %>%
  add_header_above(c(" "," ","all droughts"=2,"1966"=2, "1977" = 2, "1999" = 2)) %>%
  kable_styling()
```
Variable abbreviations are as in Table 2. 
$\Delta$AICc is the AICc of a model excluding the trait minus that of the model including it. 

*$\Delta$AICc > 1: variable meets $\Delta$AICc criterion for inclusion in full model

**$\Delta$AICc > 2: variable is considered significant as an individual predictor (and meets $\Delta$AICc criterion for inclusion in full model)


\newpage
```{r table S5, eval = TRUE, echo=FALSE, warning=FALSE}
library(knitr)
library(kableExtra)
singlevar_table <- read.csv("tables_figures/publication/tableS5_singlevariable_models_reform_arimaratio.csv", stringsAsFactors = FALSE, check.names = FALSE) 
kable(singlevar_table, booktabs = TRUE, caption = "Table S5. Individual tests of species traits as drivers of drought resistance, where $Rt_{ARIMA}$ is used as the response variable. ", format = 'latex', escape = FALSE) %>%
  kable_styling(latex_options = c("scale_down", "hold_position"), font_size = 12, protect_latex = TRUE) %>%
  add_header_above(c(" "," ","all droughts"=2,"1966"=2, "1977" = 2, "1999" = 2)) %>%
  kable_styling()
```
Variable abbreviations are as in Table 2. 
$\Delta$AICc is the AICc of a model excluding the trait minus that of the model including it. 

**$\Delta$AICc > 2: variable considered significant as an individual predictor


\newpage
```{r table S6, eval = TRUE, echo=FALSE, warning=FALSE}
library(knitr)
library(kableExtra)
multivar_table <- read.csv("tables_figures/publication/tableS6_multivariable_models_reform.csv", stringsAsFactors = FALSE, check.names = FALSE) 
kable(multivar_table, booktabs = TRUE, caption = "Table S6. Summary of top full models for each drought instance, where $Rt$ is used as the response variable. ", format = 'latex', escape = FALSE) %>%
  kable_styling(latex_options = c("scale_down", "hold_position"), font_size = 12, protect_latex = TRUE) %>%
  add_header_above(c(" "," "," "," "," ", " ", " ", "crown position" = 4, 
                     " "," ")) %>%
  pack_rows("", 1, 8, latex_gap_space = ".4em", colnum = 1, hline_before = FALSE) %>%
  pack_rows("", 9, 10, latex_gap_space = ".4em", colnum = 1, hline_before = FALSE) %>%
  pack_rows("", 11, 19, latex_gap_space = ".4em", colnum = 1, hline_before = FALSE) %>%
  pack_rows("", 21, 33, latex_gap_space = ".4em", colnum = 1, hline_before = FALSE) %>%
  row_spec(1, bold = T) %>%
  row_spec(9, bold = T) %>%
  row_spec(11, bold = T) %>%
  row_spec(21, bold = T) %>%
  kable_styling()
```
Models are ranked by AICc. Shown are all models whose AICc value falls within 2.0 ($\Delta$AICc<1) of the best model (bold).

\newpage
```{r table S7, eval = TRUE, echo=FALSE, warning=FALSE}
library(knitr)
library(kableExtra)
multivar_table <- read.csv("tables_figures/publication/tableS7_multivariable_models_reform_arimaratio.csv", stringsAsFactors = FALSE, check.names = FALSE) 
kable(multivar_table, booktabs = TRUE, caption = "Table S7. Summary of top full models for each drought instance, where $Rt_{ARIMA}$ is used as the response variable. ", format = 'latex', escape = FALSE) %>%
  kable_styling(latex_options = c("scale_down", "hold_position"), font_size = 12, protect_latex = TRUE) %>%
  add_header_above(c(" "," "," "," "," ", " ", " ", "crown position" = 4, 
                     " "," ")) %>%
  pack_rows("", 1, 4, latex_gap_space = ".4em", colnum = 1, hline_before = FALSE) %>%
  pack_rows("", 5, 7, latex_gap_space = ".4em", colnum = 1, hline_before = FALSE) %>%
  pack_rows("", 8, 19, latex_gap_space = ".4em", colnum = 1, hline_before = FALSE) %>%
  pack_rows("", 20, 30, latex_gap_space = ".4em", colnum = 1, hline_before = FALSE) %>%
  row_spec(1, bold = T) %>%
  row_spec(5, bold = T) %>%
  row_spec(8, bold = T) %>%
  row_spec(20, bold = T) %>%
  kable_styling()
```
Models are ranked by AICc. Shown are all models whose AICc value falls within 2.0 ($\Delta$AICc<1) of the best model (bold).

\newpage
![Figure S1: Map of ForestGEO plot showing TWI and location of cored trees](tables_figures/publication/figureS1_location_cored_trees.png){width=500px}

\newpage
![Figure S2: Time series of Palmer Drought Severity Index (PDSI) for the 2.5 years prior to each focal drought](tables_figures/publication/figureS2_drought_plot.jpg){width=600px}

\newpage
![Figure S3: Height (from reconstructed DBH) by canopy position across the three focal droughts and in the year of measurement (2018)](tables_figures/publication/figureS3_height_plot_analysis.png){width=600px}

\newpage
![Figure S4: Comparison of $Rt$ and $Rt_{ARIMA}$ results, with residuals, for each drought scenario](tables_figures/publication/figureS4_Rt_arima_comparison.png)


\newpage
![Figure S5: **PLACEHOLDER** ](tables_figures/publication/figureS5_species Rt differences.png)
